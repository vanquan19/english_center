<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Thông tin lớp học - Trung tâm tiếng anh</title>
        <link rel="stylesheet" href="App.css" />
    </head>
    <body>
        <div class="app">
            <%- include('header') %>
            <div class="mt-16 ">
                <div class="rounded-lg dark:border-gray-700 mb-24">
                    <div class="flex relative gap-1 tems-start flex-col translate-y-[-10px] space-y-4 md:space-y-0 p-4 bg-[url(/images/bg-class-detail.webp)] bg-no-repeat bg-cover">
                        <div class="flex items-center gap-2">
                            <h1 class="text-3xl font-extrabold text-white"><%= student['classes.name'] %> - <%= student['classes.year'] %></h1>
                        </div>
                        <div class="flex items-center gap-2 text-gray-300 font-semibold">
                            <h1 class="text-md font-extrabold">Giảng viên:</h1>
                            <%= student['classes.teacher.user.firstname'] ? student['classes.teacher.user.firstname'] + " " + student['classes.teacher.user.lastname'] : "Chưa có giảng viên"%>
                        </div>
                        <div class="flex items-center gap-2 text-gray-300 font-semibold">
                            <h1 class="text-md font-extrabold">Ngày bắt đầu:</h1>
                            <%= student['classes.startAt'].getMonth() %>/<%= student['classes.startAt'].getDate() %>/<%= student['classes.startAt'].getFullYear() %>
                        </div>
   
                    </div>
                    <div class="p-4">
                        <div class="relative p-4 overflow-x-auto shadow-md sm:rounded-lg">
                            <div class="flex justify-center items-center mb-4">
                                <h1 class="text-xl font-extrabold text-gray-500 dark:text-white">Danh sách học sinh</h1>
                            </div>
                            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">MHS</th>
                                        <th scope="col" class="px-6 py-3">Tên học sinh</th>
                                        <th scope="col" class="px-6 py-3">Email</th>
                                        <th scope="col" class="px-6 py-3">Số điện thoại</th>
                                        <th scope="col" class="px-6 py-3 lg:table-cell hidden">Ngày sinh</th>
                                        <th scope="col" class="px-6 py-3 lg:table-cell hidden">Địa chỉ</th>
                                        <th scope="col" class="px-6 py-3 lg:table-cell hidden">Giới tính</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% students.forEach((item) => { %>
                                    <tr
                                        class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                                        <td class="px-6 py-4"><%= item.id %></td>
                                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"><%= item['user.firstname'] + " " + item['user.lastname'] %></th>
                                        <td class="px-6 py-4"><%= item['user.email'] %></td>
                                        <td class="px-6 py-4"><%= item['user.phone'] %></td>
                                        <td class="px-6 py-4 lg:table-cell hidden"><%= item['user.birthday'] %></td>
                                        <td class="px-6 py-4 lg:table-cell hidden"><%= item['user.address'] %></td>
                                        <td class="px-6 py-4 lg:table-cell hidden"><%= item['user.gender'] === null ? 'không xác định' : (item['user.gender'] ? 'Nam' : 'Nữ') %></td>
                                    </tr>
                                    <% }) %>
                                </tbody>
                            </table>
                        </div>
                    </div>
            </div>
            <%- include('footer') %>
        </div>
        <script src="/script.js"></script>

        
    </body>
</html>
